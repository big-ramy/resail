/* ========================================================== */
/* ==   ملف التجاوب والطباعة (responsive.css) - نسخة محسّنة   == */
/* ==   يحتوي على جميع قواعد @media للشاشات المختلفة والطباعة == */
/* ========================================================== */

/* --- شاشات اللابتوب الصغيرة والأجهزة اللوحية --- */
@media (max-width: 992px) {
    #preview-wrapper {
        flex-direction: column !important; 
    }
    #controls-sidebar {
        width: 100%;
        order: -1;
        margin-bottom: 20px;
    }

    /* ⭐ --- بداية التعديلات الجديدة --- ⭐ */
    .navbar-collapse {
        text-align: center; /* توسيط جميع الروابط داخل القائمة المنسدلة */
    }

    .navbar-toggler-icon {
        /* استبدال الأيقونة الافتراضية بأيقونة SVG مخصصة وملونة */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(209, 170, 255, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        filter: drop-shadow(0 0 3px rgba(209, 170, 255, 0.7)); /* إضافة توهج خفيف */
    }
    /* ⭐ --- نهاية التعديلات الجديدة --- ⭐ */
}

/* --- شاشات الجوال العامة --- */
@media (max-width: 768px) {
    .site-header {
        height: auto;
        padding: 60px 0;
    }
    .site-header h1 {
        font-size: 1.8em;
    }
    .site-header p.lead {
        font-size: 1.1em;
    }
    .header-content {
        gap: 15px;
    }

    /* تحسينات الأزرار العامة */
    .btn, .btn-lg, .btn-sm {
        padding: 0.5rem 0.8rem;
        font-size: 0.9rem;
        height: auto;
    }
    .form-group .btn {
        padding: 0.3rem 0.6rem;
        font-size: 0.8rem;
    }

    /* تحسينات بطاقات الخصم */
    .discount-card {
        min-width: 180px;
        padding: 8px 12px;
    }
    .discount-tag {
        font-size: 1em;
        padding: 8px;
    }
    .discount-info .code-text {
        font-size: 0.9em;
    }
    .discount-info small {
        font-size: 0.75em;
    }

    #cv-preview-area {
        overflow: auto; /* يجعل الإطار قابلاً للتمرير */
        -webkit-overflow-scrolling: touch; /* لتحسين التمرير باللمس */
    }

    #cv-preview-area #cv-container {
        min-width: 210mm; /* يفرض على السيرة الذاتية أن تحتفظ بحجمها الكامل */
    }
}

/* --- شاشات الجوال الصغيرة جداً --- */
@media (max-width: 420px) {
    #cv-container { padding: 3mm; }
    .cv-name { font-size: 1.6em !important; }
    .cv-title { font-size: 1em !important; }
    .cv-section-title { font-size: 1.1em !important; }
    .cv-profile-pic { width: 80px !important; height: 80px !important; }
    .cv-contact-item { font-size: 0.8em !important; }
    .cv-job-title, .cv-degree { font-size: 0.95em !important; }
    .cv-company, .cv-institution, .cv-duration { font-size: 0.85em !important; }
    .cv-experience-item p { font-size: 0.85em !important; line-height: 1.4 !important; }
    .cv-skill-item { font-size: 0.8em !important; padding: 4px 8px !important; }

    /* تصغير بطاقات الخصم أكثر */
    .discount-card {
        min-width: 160px;
        padding: 6px 10px;
        flex-direction: column;
        gap: 5px;
    }
    .discount-tag {
        margin: 0;
    }
}


/* ==========================================================================
   ==                  قواعد الطباعة النهائية والمبسطة V5                   ==
   ========================================================================== */
@media print {
    @page {
        size: A4;
        margin: 0;
    }
   .professional-layout {
        grid-template-rows: auto auto !important; 
        height: auto !important;
    }
    .professional-layout .cv-header.professional-layout {
       page-break-after: avoid !important;
    }
    .professional-layout.template3 .cv-header.professional-layout .cv-profile-pic {
        display: block !important;
    }
    .creative-layout.template2 .cv-content {
        position: static !important;
        padding-top: 0 !important;
    }
    .creative-layout.template2 .header-wave {
        position: static !important;
        height: auto !important;
        margin-bottom: 20px !important;
    }
    .creative-layout.template2 .right-column .cv-profile-pic {
        margin-top: 20px !important;
    }
    html, body {
        margin: 0 !important;
        padding: 0 !important;
        font-size: 10pt;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    *:not(.fas):not(.fab):not(.far):not(.fa-solid):not(.fa-regular):not(.fa-brands) {
        font-family: 'Tajawal', Arial, sans-serif !important;
        box-shadow: none !important;
        text-shadow: none !important;
    }
    body > nav, body > footer, body > header.site-header, #promo-bar,
    .page-section:not(.active-page), #cv-preview-page .d-flex, #controls-sidebar {
        display: none !important;
    }
    .cv-section, .cv-header, .cv-experience-item {
        page-break-inside: avoid !important;
    }
    .cv-end-marker {
        margin-top: auto !important;
        height: 1px !important;
        display: block !important;
        page-break-inside: avoid !important;
    }
}

